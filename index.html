<!DOCTYPE html><html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spotify Lite Premium</title><style>
body{
  margin:0;
  font-family:Arial;
  background:#0a0a12;
  color:white;
}

/* LOGIN */
#loginScreen{
  position:fixed;
  inset:0;
  background:#0a0a12;
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}
.login-box{
  background:#111;
  padding:25px;
  border-radius:10px;
  width:260px;
  text-align:center;
}
.login-box input{
  width:100%;
  padding:8px;
  margin:6px 0;
}
.login-box button{
  width:100%;
  padding:10px;
  margin-top:6px;
}

/* APP */
.app{
  padding:15px;
  max-width:500px;
  margin:auto;
}

#logout{
  float:right;
  padding:6px 10px;
  margin-bottom:10px;
}

.controls button{
  padding:10px;
  margin:5px;
}

.list{
  margin-top:15px;
}
.row{
  padding:8px;
  border-bottom:1px solid #222;
  cursor:pointer;
}
.row.active{
  background:#222;
}
</style></head><body><!-- LOGIN --><div id="loginScreen">
  <div class="login-box">
    <h3>Login Premium</h3>
    <input id="user" placeholder="Username">
    <input id="pass" type="password" placeholder="Password">
    <button id="btnLogin">Login</button>
    <button id="btnGuest">Masuk Gratis</button>
  </div>
</div><!-- APP --><div class="app">
  <button id="logout">Logout</button>
  <h2 id="title">Pilih Lagu</h2>  <!-- audio background optimized --><audio id="audio" preload="auto" playsinline controls></audio>

  <div class="controls">
    <button id="prev">Prev</button>
    <button id="play">Play / Pause</button>
    <button id="next">Next</button>
    <button id="mode">Mode: Normal</button>
  </div>  <div class="list" id="list"></div>
</div><script>
// =====================
// DATA LAGU (ASLI 18)
// =====================
const songs = [
{title:"Surat Cinta Untuk Starla",src:"starla.mp3"},
{title:"Selamat Tinggal",src:"selamat-tinggal.mp3"},
{title:"Seluruh Nafas Ini",src:"s.mp3"},
{title:"Duka",src:"d.mp3"},
{title:"Pedih",src:"p.mp3"},
{title:"Bukti",src:"b.mp3"},
{title:"Diary Depresiku",src:"di.mp3"},
{title:"Sekuat Hatimu",src:"se.mp3"},
{title:"Bernafas Tanpamu",src:"1.mp3"},
{title:"Tak Pernah Ternilai",src:"2.mp3"},
{title:"Saat Kau Telah Mengerti",src:"3.mp3"},
{title:"Baik Baik Sayang",src:"https://image2url.com/r2/default/audio/1771619660220-081c591d-e164-4cbc-818a-fe3671497f38.mp3"},
{title:"Yank",src:"https://image2url.com/r2/default/audio/1771626404446-67166325-1c0c-4d80-93ff-2ce5873b595b.mp3"},
{title:"Tobat Maksiat",src:"https://image2url.com/r2/default/audio/1771627039637-ff746660-0cf2-4e20-8d38-96452bdeee5c.mp3"},
{title:"Nenek-ku Pahlawanku",src:"https://image2url.com/r2/default/audio/1771627305197-c993ddc0-567f-4d63-bf2e-58af7b79e2d5.mp3"},
{title:"Puaskah",src:"https://image2url.com/r2/default/audio/1771627423608-9415b1d0-ff7c-4def-9b76-edd7821ce344.mp3"},
{title:"Harusnya Aku",src:"https://image2url.com/r2/default/audio/1771627545709-a3250a04-8b0b-4200-8457-9dccc75602fc.mp3"},
{title:"montagem perigosa",src:"https://image2url.com/r2/default/audio/1771644598296-98535e8d-1289-44b9-9816-aa53b4018e25.mp3"},
{title:"loucura letal (slowed)",src:"https://image2url.com/r2/default/audio/1771648040907-1037e0e1-c14a-483b-adf0-45c5f87e33ff.mp3"}
];

// =====================
// ELEMENT
// =====================
const audio = document.getElementById("audio");
const titleEl = document.getElementById("title");
const listEl = document.getElementById("list");

const btnPlay = document.getElementById("play");
const btnPrev = document.getElementById("prev");
const btnNext = document.getElementById("next");
const btnMode = document.getElementById("mode");
const btnLogout = document.getElementById("logout");

const loginScreen = document.getElementById("loginScreen");
const btnLogin = document.getElementById("btnLogin");
const btnGuest = document.getElementById("btnGuest");

// =====================
// STATE
// =====================
let idx = 0;
let isPremium = false;
let mode = 0;
const modeNames = ["Normal","Repeat All","Repeat One","Shuffle"];

// =====================
// LOGIN
// =====================
function checkLogin(){
  const status = localStorage.getItem("user");
  if(status){
    isPremium = status === "premium";
    loginScreen.style.display = "none";

    if(!isPremium){
      btnMode.style.display="none";
      btnLogout.style.display="block";
    }else{
      btnLogout.style.display="none";
    }
  }
}

btnLogin.onclick = ()=>{
  const u = document.getElementById("user").value;
  const p = document.getElementById("pass").value;

  if(u==="admin" && p==="123"){
    localStorage.setItem("user","premium");
    loginScreen.style.display="none";
    btnLogout.style.display="none";
  }else{
    alert("Login salah");
  }
};

btnGuest.onclick = ()=>{
  localStorage.setItem("user","guest");
  loginScreen.style.display="none";
  btnMode.style.display="none";
  btnLogout.style.display="block";
};

btnLogout.onclick = ()=>{
  localStorage.removeItem("user");
  audio.pause();
  loginScreen.style.display="flex";
};

checkLogin();

// =====================
// PLAYER
// =====================
function loadSong(i){
  idx = i;
  audio.src = songs[i].src;
  titleEl.textContent = songs[i].title;
  renderList();
  updateMediaSession();
}

btnPlay.onclick = ()=>{
  if(audio.paused) audio.play();
  else audio.pause();
};

btnPrev.onclick = ()=>{
  idx = (idx-1+songs.length)%songs.length;
  loadSong(idx);
  audio.play();
};

btnNext.onclick = nextSong;

function nextSong(){
  if(mode===2){
    loadSong(idx);
    audio.play();
    return;
  }
  if(mode===3){
    idx = Math.floor(Math.random()*songs.length);
    loadSong(idx);
    audio.play();
    return;
  }
  idx++;
  if(idx>=songs.length){
    if(mode===1) idx=0;
    else return;
  }
  loadSong(idx);
  audio.play();
}

audio.onended = nextSong;

btnMode.onclick = ()=>{
  if(!isPremium){
    alert("Fitur Premium");
    return;
  }
  mode = (mode+1)%4;
  btnMode.textContent = "Mode: " + modeNames[mode];
};

// =====================
// LIST
// =====================
function renderList(){
  listEl.innerHTML="";
  songs.forEach((s,i)=>{
    const div = document.createElement("div");
    div.className = "row"+(i===idx?" active":"");
    div.textContent = (i+1)+". "+s.title;
    div.onclick = ()=>{
      loadSong(i);
      audio.play();
    };
    listEl.appendChild(div);
  });
}

// =====================
// BACKGROUND PLAY
// =====================
function updateMediaSession(){
  if ('mediaSession' in navigator) {
    navigator.mediaSession.metadata = new MediaMetadata({
      title: songs[idx].title,
      artist: "Spotify Lite",
      album: "Music Player"
    });

    navigator.mediaSession.setActionHandler('play', () => audio.play());
    navigator.mediaSession.setActionHandler('pause', () => audio.pause());
    navigator.mediaSession.setActionHandler('previoustrack', () => btnPrev.onclick());
    navigator.mediaSession.setActionHandler('nexttrack', () => btnNext.onclick());
  }
}

document.addEventListener("visibilitychange", () => {
  if (!document.hidden && !audio.paused) {
    audio.play();
  }
});

loadSong(0);
</script></body>
</html>