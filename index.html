<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Starla â€” Music Player</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Syne:wght@400;500;700&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
  --bg: #080808;
  --panel: #0f0f0f;
  --card: #161616;
  --border: rgba(255,255,255,0.07);
  --gold: #c8a96d;
  --gold2: #e8d5a8;
  --gold-glow: rgba(200,169,109,0.18);
  --text: #f2ede6;
  --sub: #8a8078;
  --active-bg: rgba(200,169,109,0.08);
}

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Syne', sans-serif;
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  background-image:
    radial-gradient(ellipse 60% 50% at 20% 0%, rgba(200,169,109,0.06) 0%, transparent 70%),
    radial-gradient(ellipse 50% 40% at 80% 100%, rgba(200,169,109,0.04) 0%, transparent 70%);
}

/* â”€â”€â”€ Layout â”€â”€â”€ */
.app {
  width: 100%;
  max-width: 900px;
  display: grid;
  grid-template-columns: 320px 1fr;
  grid-template-rows: 1fr;
  border-radius: 20px;
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: 0 50px 100px rgba(0,0,0,0.8), 0 0 0 1px rgba(200,169,109,0.05);
  background: var(--panel);
  min-height: 580px;
}

/* â”€â”€â”€ Player Panel (Left) â”€â”€â”€ */
.player {
  padding: 32px 28px;
  display: flex;
  flex-direction: column;
  align-items: center;
  background: linear-gradient(160deg, #131313 0%, #0d0d0d 100%);
  border-right: 1px solid var(--border);
  gap: 0;
}

.art-wrap {
  position: relative;
  width: 200px;
  height: 200px;
  flex-shrink: 0;
}

.art-ring {
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  border: 1.5px solid rgba(200,169,109,0.2);
  animation: spin 12s linear infinite;
  display: none;
}

.art-ring::after {
  content: '';
  position: absolute;
  top: -3px;
  left: 50%;
  transform: translateX(-50%);
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: var(--gold);
  box-shadow: 0 0 8px var(--gold);
}

@keyframes spin { to { transform: rotate(360deg); } }

.playing .art-ring { display: block; }

.art {
  width: 200px;
  height: 200px;
  border-radius: 16px;
  background: var(--card);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 56px;
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: 0 20px 60px rgba(0,0,0,0.6);
  transition: transform 0.5s ease;
}

.playing .art {
  border-radius: 50%;
  animation: vinylSpin 8s linear infinite;
  box-shadow: 0 0 40px var(--gold-glow), 0 20px 60px rgba(0,0,0,0.6);
}

@keyframes vinylSpin { to { transform: rotate(360deg); } }

.art img { width: 100%; height: 100%; object-fit: cover; }

.vinyl-hole {
  position: absolute;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.4s;
}

.playing .vinyl-hole { opacity: 1; }

.vinyl-hole::after {
  content: '';
  width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--panel);
  border: 2px solid rgba(200,169,109,0.4);
  box-shadow: 0 0 12px rgba(0,0,0,0.8);
}

/* Song Info */
.info {
  margin-top: 24px;
  text-align: center;
  width: 100%;
}

.info-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 22px;
  font-weight: 700;
  line-height: 1.25;
  color: var(--text);
  margin-bottom: 6px;
}

.info-artist {
  font-size: 11px;
  font-weight: 500;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: var(--gold);
}

/* Progress */
.prog-wrap {
  width: 100%;
  margin-top: 22px;
}

.times {
  display: flex;
  justify-content: space-between;
  font-size: 11px;
  color: var(--sub);
  margin-bottom: 10px;
  font-variant-numeric: tabular-nums;
}

.slider-track {
  position: relative;
  height: 3px;
  background: rgba(255,255,255,0.08);
  border-radius: 99px;
}

.slider-fill {
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  background: linear-gradient(90deg, var(--gold), var(--gold2));
  border-radius: 99px;
  pointer-events: none;
  width: 0%;
  transition: width 0.1s linear;
}

input[type="range"] {
  -webkit-appearance: none;
  position: absolute;
  inset: -6px 0;
  width: 100%;
  height: 15px;
  background: transparent;
  cursor: pointer;
  outline: none;
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: var(--gold2);
  box-shadow: 0 0 0 3px rgba(200,169,109,0.25), 0 2px 8px rgba(0,0,0,0.5);
  transition: transform 0.15s;
}

input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.3); }

/* Controls */
.controls {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 16px;
  margin-top: 22px;
  width: 100%;
}

.btn {
  background: none;
  border: none;
  cursor: pointer;
  color: var(--sub);
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  transition: color 0.2s, transform 0.15s, background 0.2s;
  padding: 10px;
}

.btn:hover { color: var(--text); transform: scale(1.08); }

.btn-prev, .btn-next {
  font-size: 14px;
  width: 40px;
  height: 40px;
}

.btn-play {
  width: 56px;
  height: 56px;
  background: linear-gradient(135deg, var(--gold), var(--gold2));
  color: #0d0d0d;
  font-size: 18px;
  box-shadow: 0 8px 24px rgba(200,169,109,0.35);
}

.btn-play:hover {
  color: #0d0d0d;
  transform: scale(1.06);
  box-shadow: 0 12px 32px rgba(200,169,109,0.5);
}

/* â”€â”€â”€ List Panel (Right) â”€â”€â”€ */
.list-panel {
  display: flex;
  flex-direction: column;
  background: var(--bg);
  min-height: 0;
}

.list-head {
  padding: 24px 24px 16px;
  border-bottom: 1px solid var(--border);
  flex-shrink: 0;
}

.list-head h3 {
  font-family: 'Cormorant Garamond', serif;
  font-size: 19px;
  font-weight: 700;
  color: var(--text);
  margin-bottom: 3px;
}

.list-head span {
  font-size: 11px;
  color: var(--sub);
  letter-spacing: 0.06em;
}

.list-body {
  overflow-y: auto;
  flex: 1;
}

.list-body::-webkit-scrollbar { width: 3px; }
.list-body::-webkit-scrollbar-track { background: transparent; }
.list-body::-webkit-scrollbar-thumb { background: #222; border-radius: 3px; }

/* Song Row */
.row {
  display: grid;
  grid-template-columns: 28px 44px 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 10px 20px;
  cursor: pointer;
  transition: background 0.15s;
  border-left: 2px solid transparent;
  position: relative;
}

.row:hover { background: rgba(255,255,255,0.025); }

.row.active {
  background: var(--active-bg);
  border-left-color: var(--gold);
}

.row-num {
  font-size: 11px;
  color: var(--sub);
  text-align: right;
  font-variant-numeric: tabular-nums;
  transition: opacity 0.2s;
}

.row.active .row-num { opacity: 0; }

/* EQ bars */
.eq {
  display: none;
  position: absolute;
  left: 6px;
  top: 50%;
  transform: translateY(-50%);
  align-items: flex-end;
  gap: 2px;
  height: 14px;
}

.row.active.playing .eq { display: flex; }
.row.active.playing .row-num { visibility: hidden; }

.eq b {
  display: block;
  width: 3px;
  background: var(--gold);
  border-radius: 2px;
  animation: bar 0.7s ease-in-out infinite alternate;
}
.eq b:nth-child(2) { animation-delay: 0.15s; }
.eq b:nth-child(3) { animation-delay: 0.3s; }
@keyframes bar { from { height: 3px; } to { height: 14px; } }

.thumb {
  width: 44px;
  height: 44px;
  border-radius: 8px;
  background: var(--card);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
  overflow: hidden;
  flex-shrink: 0;
  border: 1px solid var(--border);
}

.thumb img { width: 100%; height: 100%; object-fit: cover; }

.meta { min-width: 0; }

.meta-title {
  font-size: 13.5px;
  font-weight: 500;
  color: var(--text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  margin-bottom: 3px;
  transition: color 0.2s;
}

.row.active .meta-title { color: var(--gold); }

.meta-artist {
  font-size: 11.5px;
  color: var(--sub);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* DURATION â€” clearly visible */
.dur {
  font-size: 12px;
  color: var(--sub);
  font-variant-numeric: tabular-nums;
  font-weight: 500;
  white-space: nowrap;
  background: rgba(255,255,255,0.05);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 3px 8px;
  letter-spacing: 0.03em;
  flex-shrink: 0;
}

.row.active .dur {
  background: var(--gold-glow);
  border-color: rgba(200,169,109,0.25);
  color: var(--gold2);
}

/* â”€â”€â”€ Responsive â”€â”€â”€ */
@media (max-width: 700px) {
  body { padding: 0; align-items: stretch; }

  .app {
    grid-template-columns: 1fr;
    grid-template-rows: auto 1fr;
    border-radius: 0;
    min-height: 100vh;
    border: none;
    box-shadow: none;
  }

  .player {
    border-right: none;
    border-bottom: 1px solid var(--border);
    padding: 28px 24px 24px;
  }

  .art-wrap { width: 170px; height: 170px; }
  .art { width: 170px; height: 170px; }

  .list-panel { min-height: 0; flex: 1; }
  .list-body { height: 100%; }
}

@media (max-width: 400px) {
  .art-wrap { width: 148px; height: 148px; }
  .art { width: 148px; height: 148px; }
  .info-title { font-size: 19px; }
  .row { gap: 10px; padding: 9px 14px; }
}
</style>
</head>
<body>
<div class="app">

  <!-- â”€â”€ Player â”€â”€ -->
  <div class="player" id="player">
    <div class="art-wrap" id="artWrap">
      <div class="art-ring"></div>
      <div class="art" id="art">ðŸŽµ</div>
      <div class="vinyl-hole"></div>
    </div>

    <div class="info">
      <div class="info-title" id="infoTitle">Pilih lagu</div>
      <div class="info-artist" id="infoArtist">â€”</div>
    </div>

    <div class="prog-wrap">
      <div class="times">
        <span id="cur">0:00</span>
        <span id="tot">0:00</span>
      </div>
      <div class="slider-track">
        <div class="slider-fill" id="fill"></div>
        <input type="range" id="prog" value="0" min="0" max="100" step="0.1">
      </div>
    </div>

    <div class="controls">
      <button class="btn btn-prev" id="btnPrev" title="Sebelumnya">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 6h2v12H6zm3.5 6 8.5 6V6z"/></svg>
      </button>
      <button class="btn btn-play" id="btnPlay" title="Play/Pause">
        <svg id="iconPlay" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
        <svg id="iconPause" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display:none"><path d="M6 19h4V5H6zm8-14v14h4V5z"/></svg>
      </button>
      <button class="btn btn-next" id="btnNext" title="Berikutnya">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 18l8.5-6L6 6zm8.5-6v6h2V6h-2z"/></svg>
      </button>
    </div>
  </div>

  <!-- â”€â”€ List â”€â”€ -->
  <div class="list-panel">
    <div class="list-head">
      <h3>Daftar Lagu</h3>
      <span id="listCount">0 lagu</span>
    </div>
    <div class="list-body" id="listBody"></div>
  </div>

</div>

<audio id="audio" preload="auto"></audio>

<script>
const songs = [
  { title: "Surat Cinta Untuk Starla", artist: "Virgoun",     src: "starla.mp3",        cover: "cover.jpg", duration: "4:51" },
  { title: "Selamat Tinggal",           artist: "Virgoun",     src: "selamat-tinggal.mp3",cover:"cover.jpg",  duration: "5:53" },
  { title: "Seluruh Nafas Ini",         artist: "Last Child",  src: "s.mp3",             cover: "",          duration: "4:53" },
  { title: "Duka",                      artist: "Last Child",  src: "d.mp3",             cover: "",          duration: "5:21" },
  { title: "Pedih",                     artist: "Last Child",  src: "p.mp3",             cover: "",          duration: "4:13" },
  { title: "Bukti",                     artist: "Virgoun",     src: "b.mp3",             cover: "",          duration: "4:43" },
  { title: "Diary Depresiku",           artist: "Last Child",  src: "di.mp3",            cover: "",          duration: "4:39" },
  { title: "Sekuat Hatimu",             artist: "Last Child",  src: "se.mp3",            cover: "",          duration: "4:42" },
];

const audio     = document.getElementById("audio");
const btnPlay   = document.getElementById("btnPlay");
const btnPrev   = document.getElementById("btnPrev");
const btnNext   = document.getElementById("btnNext");
const progEl    = document.getElementById("prog");
const fillEl    = document.getElementById("fill");
const curEl     = document.getElementById("cur");
const totEl     = document.getElementById("tot");
const infoTitle = document.getElementById("infoTitle");
const infoArtist= document.getElementById("infoArtist");
const artEl     = document.getElementById("art");
const artWrapEl = document.getElementById("artWrap");
const playerEl  = document.getElementById("player");
const listBody  = document.getElementById("listBody");
const listCount = document.getElementById("listCount");
const iconPlay  = document.getElementById("iconPlay");
const iconPause = document.getElementById("iconPause");

let idx = 0, playing = false;

const fmt = s => isNaN(s) ? "0:00" : `${Math.floor(s/60)}:${String(Math.floor(s%60)).padStart(2,"0")}`;

function loadSong(i, autoplay=false) {
  idx = i;
  const s = songs[i];
  infoTitle.textContent  = s.title;
  infoArtist.textContent = s.artist;
  audio.src = s.src;
  artEl.innerHTML = s.cover
    ? `<img src="${s.cover}" alt="" onerror="this.parentNode.innerHTML='ðŸŽµ'">`
    : "ðŸŽµ";
  renderList();
  if (autoplay) playAudio(); else syncUI();
}

function playAudio() {
  audio.play().catch(()=>{});
  playing = true;
  iconPlay.style.display  = "none";
  iconPause.style.display = "";
  artWrapEl.classList.add("playing");
  playerEl.classList.add("playing");
  renderList();
}

function pauseAudio() {
  audio.pause();
  playing = false;
  iconPlay.style.display  = "";
  iconPause.style.display = "none";
  artWrapEl.classList.remove("playing");
  playerEl.classList.remove("playing");
  renderList();
}

function syncUI() {
  iconPlay.style.display  = playing ? "none" : "";
  iconPause.style.display = playing ? "" : "none";
  artWrapEl.classList.toggle("playing", playing);
  playerEl.classList.toggle("playing", playing);
}

function renderList() {
  listCount.textContent = `${songs.length} lagu`;
  listBody.innerHTML = "";
  songs.forEach((s, i) => {
    const row = document.createElement("div");
    row.className = "row" + (i===idx?" active":"") + (i===idx&&playing?" playing":"");
    row.innerHTML = `
      <div class="row-num">
        ${i+1}
        <div class="eq"><b></b><b></b><b></b></div>
      </div>
      <div class="thumb">${s.cover?`<img src="${s.cover}" alt="" onerror="this.parentNode.innerHTML='ðŸŽµ'">`:"ðŸŽµ"}</div>
      <div class="meta">
        <div class="meta-title">${s.title}</div>
        <div class="meta-artist">${s.artist}</div>
      </div>
      <div class="dur">${s.duration}</div>
    `;
    row.addEventListener("click", () => loadSong(i, true));
    listBody.appendChild(row);
  });
  // Scroll active into view
  const activeRow = listBody.querySelector(".row.active");
  if (activeRow) activeRow.scrollIntoView({ block:"nearest" });
}

btnPlay.addEventListener("click", () => playing ? pauseAudio() : playAudio());
btnPrev.addEventListener("click", () => { idx = (idx-1+songs.length)%songs.length; loadSong(idx, playing); });
btnNext.addEventListener("click", () => { idx = (idx+1)%songs.length; loadSong(idx, playing); });

audio.addEventListener("timeupdate", () => {
  if (!audio.duration) return;
  const pct = (audio.currentTime / audio.duration) * 100;
  progEl.value = pct;
  fillEl.style.width = pct + "%";
  curEl.textContent = fmt(audio.currentTime);
  totEl.textContent = fmt(audio.duration);
});

progEl.addEventListener("input", () => {
  if (audio.duration) audio.currentTime = (progEl.value / 100) * audio.duration;
  fillEl.style.width = progEl.value + "%";
});

audio.addEventListener("ended", () => {
  idx = (idx+1) % songs.length;
  loadSong(idx, true);
});

// MediaSession
if ("mediaSession" in navigator) {
  navigator.mediaSession.setActionHandler("play", playAudio);
  navigator.mediaSession.setActionHandler("pause", pauseAudio);
  navigator.mediaSession.setActionHandler("previoustrack", () => { idx=(idx-1+songs.length)%songs.length; loadSong(idx,true); });
  navigator.mediaSession.setActionHandler("nexttrack", () => { idx=(idx+1)%songs.length; loadSong(idx,true); });
}

loadSong(0);
</script>
</body>
</html>
